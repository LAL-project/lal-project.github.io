<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LAL: Linear Arrangement Library: lal::io::treebank_collection_reader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LAL: Linear Arrangement Library<span id="projectnumber">&#160;23.01.00</span>
   </div>
   <div id="projectbrief">A library focused on algorithms on linear arrangements of graphs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelal.html">lal</a></li><li class="navelem"><a class="el" href="namespacelal_1_1io.html">io</a></li><li class="navelem"><a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html">treebank_collection_reader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classlal_1_1io_1_1treebank__collection__reader-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">lal::io::treebank_collection_reader Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A reader for a collection of treebanks.  
 <a href="classlal_1_1io_1_1treebank__collection__reader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="treebank__collection__reader_8hpp_source.html">treebank_collection_reader.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34bfebf87d3d0d57e39a77467f4a97e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlal_1_1io_1_1treebank__error.html">treebank_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#a34bfebf87d3d0d57e39a77467f4a97e4">init</a> (const std::string &amp;main_file) noexcept</td></tr>
<tr class="memdesc:a34bfebf87d3d0d57e39a77467f4a97e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the reader with a new collection.  <a href="classlal_1_1io_1_1treebank__collection__reader.html#a34bfebf87d3d0d57e39a77467f4a97e4">More...</a><br /></td></tr>
<tr class="separator:a34bfebf87d3d0d57e39a77467f4a97e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc2f172e3da98809b8adc6d1cee92ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#abbc2f172e3da98809b8adc6d1cee92ff">end</a> () const noexcept</td></tr>
<tr class="separator:abbc2f172e3da98809b8adc6d1cee92ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb722b8eda88e994b65833cb4d89d150"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#afb722b8eda88e994b65833cb4d89d150">next_treebank</a> () noexcept</td></tr>
<tr class="memdesc:afb722b8eda88e994b65833cb4d89d150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the file of the next treebank in the main file.  <a href="classlal_1_1io_1_1treebank__collection__reader.html#afb722b8eda88e994b65833cb4d89d150">More...</a><br /></td></tr>
<tr class="separator:afb722b8eda88e994b65833cb4d89d150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ecd1ef3863163ff3f95cb75a8ec3f1"><td class="memItemLeft" align="right" valign="top"><a id="a20ecd1ef3863163ff3f95cb75a8ec3f1" name="a20ecd1ef3863163ff3f95cb75a8ec3f1"></a>
<a class="el" href="classlal_1_1io_1_1treebank__reader.html">treebank_reader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_treebank_reader</b> () noexcept</td></tr>
<tr class="memdesc:a20ecd1ef3863163ff3f95cb75a8ec3f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a treebank reader class instance for processing a treebank. <br /></td></tr>
<tr class="separator:a20ecd1ef3863163ff3f95cb75a8ec3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2a74a16c0b4b43590ffda12dcc4f6a31"><td class="memItemLeft" align="right" valign="top"><a id="a2a74a16c0b4b43590ffda12dcc4f6a31" name="a2a74a16c0b4b43590ffda12dcc4f6a31"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>step_line</b> () noexcept</td></tr>
<tr class="memdesc:a2a74a16c0b4b43590ffda12dcc4f6a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Consumes one line of the main file <a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#aa2f7fdc7d60886e0e363e5093c7b8f2c">m_main_file</a>. <br /></td></tr>
<tr class="separator:a2a74a16c0b4b43590ffda12dcc4f6a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa2f7fdc7d60886e0e363e5093c7b8f2c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#aa2f7fdc7d60886e0e363e5093c7b8f2c">m_main_file</a> = &quot;none&quot;</td></tr>
<tr class="memdesc:aa2f7fdc7d60886e0e363e5093c7b8f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">File containing the list of languages and their treebanks.  <a href="classlal_1_1io_1_1treebank__collection__reader.html#aa2f7fdc7d60886e0e363e5093c7b8f2c">More...</a><br /></td></tr>
<tr class="separator:aa2f7fdc7d60886e0e363e5093c7b8f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4726dcbc4fbe0ebbf7c3beb8c8fe5b14"><td class="memItemLeft" align="right" valign="top"><a id="a4726dcbc4fbe0ebbf7c3beb8c8fe5b14" name="a4726dcbc4fbe0ebbf7c3beb8c8fe5b14"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>m_cur_treebank_name</b> = &quot;none&quot;</td></tr>
<tr class="memdesc:a4726dcbc4fbe0ebbf7c3beb8c8fe5b14"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the current treebank file. <br /></td></tr>
<tr class="separator:a4726dcbc4fbe0ebbf7c3beb8c8fe5b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebac808378185ba23402befca68b98b"><td class="memItemLeft" align="right" valign="top"><a id="a8ebac808378185ba23402befca68b98b" name="a8ebac808378185ba23402befca68b98b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>m_cur_treebank_filename</b> = &quot;none&quot;</td></tr>
<tr class="memdesc:a8ebac808378185ba23402befca68b98b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the current treebank file. <br /></td></tr>
<tr class="separator:a8ebac808378185ba23402befca68b98b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c835b5d2b2d98072f8b2a8c8dd0288b"><td class="memItemLeft" align="right" valign="top"><a id="a3c835b5d2b2d98072f8b2a8c8dd0288b" name="a3c835b5d2b2d98072f8b2a8c8dd0288b"></a>
std::ifstream&#160;</td><td class="memItemRight" valign="bottom"><b>m_list</b></td></tr>
<tr class="memdesc:a3c835b5d2b2d98072f8b2a8c8dd0288b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for main file reading. <br /></td></tr>
<tr class="separator:a3c835b5d2b2d98072f8b2a8c8dd0288b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0531c5b86c440abdbdca78ded3d5dfb7"><td class="memItemLeft" align="right" valign="top"><a id="a0531c5b86c440abdbdca78ded3d5dfb7" name="a0531c5b86c440abdbdca78ded3d5dfb7"></a>
<a class="el" href="classlal_1_1io_1_1treebank__reader.html">treebank_reader</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_treebank_reader</b></td></tr>
<tr class="memdesc:a0531c5b86c440abdbdca78ded3d5dfb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object to process a language's treebank. <br /></td></tr>
<tr class="separator:a0531c5b86c440abdbdca78ded3d5dfb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6514f19d0b317a283929649aa68b62"><td class="memItemLeft" align="right" valign="top"><a id="aad6514f19d0b317a283929649aa68b62" name="aad6514f19d0b317a283929649aa68b62"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_reached_end</b> = false</td></tr>
<tr class="memdesc:aad6514f19d0b317a283929649aa68b62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Did we reach the end of the file? <br /></td></tr>
<tr class="separator:aad6514f19d0b317a283929649aa68b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3005094bb559d024025e9e81a3eceb85"><td class="memItemLeft" align="right" valign="top"><a id="a3005094bb559d024025e9e81a3eceb85" name="a3005094bb559d024025e9e81a3eceb85"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_no_more_treebanks</b> = false</td></tr>
<tr class="memdesc:a3005094bb559d024025e9e81a3eceb85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Have all trees in the file been consumed? <br /></td></tr>
<tr class="separator:a3005094bb559d024025e9e81a3eceb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A reader for a collection of treebanks. </p>
<p >This class, the objects of which will be referred to as the "collection readers", is an interface to help you do a custom processing of a set of treebanks (see <a class="el" href="LAL_concepts.html#LAL_concepts__treebank_collection">Treebank Collection</a> and <a class="el" href="LAL_concepts.html#LAL_concepts__treebank">Treebank</a> for further details on treebanks and treebank collections).</p>
<p >The user has to initialise a collection reader with the main file (the main file list). For example, to read the Stanford collection the reader has to be initialised with the main file <em>stanford.txt</em> which could contain the contents given above. Bear in mind that a collection reader only processes the main file: it iterates through the list of files within the main file using the method <a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#afb722b8eda88e994b65833cb4d89d150">next_treebank</a>. This method can be called as long as method <a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#abbc2f172e3da98809b8adc6d1cee92ff">end</a> returns false. Each call to <a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#afb722b8eda88e994b65833cb4d89d150">next_treebank</a> builds an object of class <a class="el" href="classlal_1_1io_1_1treebank__reader.html">treebank_reader</a> which allows the user to iterate through the trees within the corresponding file. This object can be retrieved by calling method <a class="el" href="classlal_1_1io_1_1treebank__collection__reader.html#a20ecd1ef3863163ff3f95cb75a8ec3f1">get_treebank_reader</a>.</p>
<p >An example of usage of this class is given in the following piece of code. </p><div class="fragment"><div class="line">lal::io::treebank_collection tbcolreader;</div>
<div class="line"><span class="comment">// it is advisable to check for errors</span></div>
<div class="line"><span class="keyword">auto</span> err = tbcolreader.init(mainf)</div>
<div class="line"><span class="keywordflow">while</span> (not tbcolreader.end()) {</div>
<div class="line">    <a class="code hl_class" href="classlal_1_1io_1_1treebank__reader.html">lal::io::treebank_reader</a>&amp; tbreader = tbcolreader.get_treebank_reader();</div>
<div class="line">    <span class="keywordflow">if</span> (not tbreader.<a class="code hl_function" href="classlal_1_1io_1_1treebank__reader.html#a10f39cf5074089ab66c49d8f71e1421f">is_open</a>()) {</div>
<div class="line">        tbcolreader.next_treebank();</div>
<div class="line">        <span class="keywordflow">continue</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// here goes your custom processing of the treebank</span></div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">    tbcolreader.next_treebank();</div>
<div class="line">}</div>
<div class="ttc" id="aclasslal_1_1io_1_1treebank__reader_html"><div class="ttname"><a href="classlal_1_1io_1_1treebank__reader.html">lal::io::treebank_reader</a></div><div class="ttdoc">A reader for a single treebank file.</div><div class="ttdef"><b>Definition:</b> treebank_reader.hpp:90</div></div>
<div class="ttc" id="aclasslal_1_1io_1_1treebank__reader_html_a10f39cf5074089ab66c49d8f71e1421f"><div class="ttname"><a href="classlal_1_1io_1_1treebank__reader.html#a10f39cf5074089ab66c49d8f71e1421f">lal::io::treebank_reader::is_open</a></div><div class="ttdeci">bool is_open() const noexcept</div><div class="ttdoc">Can the treebank be read?</div><div class="ttdef"><b>Definition:</b> treebank_reader.hpp:149</div></div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abbc2f172e3da98809b8adc6d1cee92ff" name="abbc2f172e3da98809b8adc6d1cee92ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc2f172e3da98809b8adc6d1cee92ff">&#9670;&#160;</a></span>end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lal::io::treebank_collection_reader::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns true or false depending on whether there is a next treebank to be read. </p>

</div>
</div>
<a id="a34bfebf87d3d0d57e39a77467f4a97e4" name="a34bfebf87d3d0d57e39a77467f4a97e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34bfebf87d3d0d57e39a77467f4a97e4">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlal_1_1io_1_1treebank__error.html">treebank_error</a> lal::io::treebank_collection_reader::init </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>main_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise the reader with a new collection. </p>
<p >Objects of this class can't be used to read a treebank until this method returns no error. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">main_file</td><td>Main file of the collection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The type of the error, if any. The list of errors that this method can return is:<ul>
<li><a class="el" href="namespacelal_1_1io.html#abc4b90fbfd4474974bf227b781e40202aed89f85f431280b5ba9f86fbf3f8ce81">lal::io::treebank_error_type::main_file_does_not_exist</a></li>
<li><a class="el" href="namespacelal_1_1io.html#abc4b90fbfd4474974bf227b781e40202a7a007298176466c028a2ee7b6d5cf1ce">lal::io::treebank_error_type::main_file_could_not_be_opened</a> </li>
</ul>
</dd></dl>

</div>
</div>
<a id="afb722b8eda88e994b65833cb4d89d150" name="afb722b8eda88e994b65833cb4d89d150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb722b8eda88e994b65833cb4d89d150">&#9670;&#160;</a></span>next_treebank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lal::io::treebank_collection_reader::next_treebank </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens the file of the next treebank in the main file. </p>
<p >This method can be called even after it has returned an error. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa2f7fdc7d60886e0e363e5093c7b8f2c" name="aa2f7fdc7d60886e0e363e5093c7b8f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f7fdc7d60886e0e363e5093c7b8f2c">&#9670;&#160;</a></span>m_main_file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lal::io::treebank_collection_reader::m_main_file = &quot;none&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File containing the list of languages and their treebanks. </p>
<p >This file's lines contain two strings, the first being the language name (used mainly for debugging purposes), and the name of the file containing the syntactic dependency trees of that language. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lal/io/<a class="el" href="treebank__collection__reader_8hpp_source.html">treebank_collection_reader.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
